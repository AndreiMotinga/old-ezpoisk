<%= form_for([:dashboard, @re_agency]) do |f| %>
  <% if @re_agency.errors.any? %>
    <div id="error_explanation">
      <h2>
        <%= pluralize(@re_agency.errors.count, "error") %>
        prohibited this re_agency from being saved:
      </h2>

      <ul>
        <% @re_agency.errors.full_messages.each do |message| %>
          <li><%= message %></li>
        <% end %>
      </ul>
    </div>
  <% end %>

  <div class="field">
    <%= f.label :title %><br>
    <%= f.text_field :title %>
  </div>
  <div class="field">
    <%= f.label :street %><br>
    <%= f.text_field :street %>
  </div>
  <div class="field">
    <%= f.label :phone %><br>
    <%= f.text_field :phone %>
  </div>
  <div class="field">
    <%= f.label :email %><br>
    <%= f.text_field :email %>
  </div>
  <div class="field">
    <%= f.label :site %><br>
    <%= f.text_field :site %>
  </div>
  <div class="field">
    <%= f.label :description %><br>
    <%= f.text_field :description %>
  </div>
  <div class="field">
    <%= f.label :active %><br>
    <%= f.check_box :active %>
  </div>
  <div class="field">
    <%= f.label :state_id %><br>
    <%= f.select(:state_id,
                 State.all.collect {|s| [ s.name, s.id ] },
                 include_blank: true) %>
</div>
<div class="field">
  <%= f.label :city_id %><br>
  <% if @re_agency.state %>
    <%= f.select(:city_id,
                 @re_agency.state
                           .cities
                           .collect { |c| [c.name, c.id] })  %>
  <% else %>
    <%= f.select(:city_id,[]) %>
  <% end %>


</div>
<div class="actions">
  <%= f.submit %>
</div>
<% end %>
